(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){e.exports=n(279)},111:function(e,t,n){},279:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),i=n.n(o),c=n(58),l=n.n(c),s=n(26),u=n.n(s),d=n(104),h=n.n(d),p=(n(111),n(62)),m=n(29),g=n.n(m),v=n(59),f=n(39),x=n(40),b=n(44),w=n(41),E=n(45),y=n(27),j=n(101),k=n.n(j),O=n(28),S=n(30),C=n.n(S),M=n(103),P=n.n(M),q=n(102),A=n.n(q),L=function(e){var t=e.split(","),n={};return t.forEach(function(e){var t=e.match(/rel="(\w+)"/)[1],a=e.match(/<(.+)>/)[1];n[t]=a}),n},z=n(42),R=n.n(z),V=function(e){return r.a.createElement(R.a,Object.assign({},e,{viewBox:"0 0 14 16",width:"14",height:"16"}),r.a.createElement("path",{d:"M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"}))},T=function(e){return r.a.createElement(R.a,Object.assign({},e,{viewBox:"0 0 14 16",width:"14",height:"16"}),r.a.createElement("path",{d:"M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"}))};function B(){var e=Object(y.a)(["\n  padding: 12px;\n\n  td {\n    border-bottom: 1px solid #dddddd;\n    padding: 12px;\n  }\n  \n  svg {\n    vertical-align: middle;\n    margin-right: 5px;\n  }\n  td.name{\n    text-align:left;\n  }\n"]);return B=function(){return e},e}function N(){var e=Object(y.a)(["\n  max-height: calc(100vh - 116px);\n  padding: 20px;\n  overflow-y: auto;\n"]);return N=function(){return e},e}var H=O.a.div(N()),J=O.a.tr(B()),W=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleScroll=function(e){var t=e.target,a=t.clientHeight,r=t.scrollHeight;a+t.scrollTop>r-100&&(0,n.props.loadMore)()},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.children;return r.a.createElement(H,{onScroll:this.handleScroll},r.a.createElement("table",{style:{width:"100%"}},r.a.createElement("tbody",null,t.map(function(e,t){return r.a.createElement(J,{key:t},r.a.createElement("td",{className:"name"},e.name),r.a.createElement("td",null,r.a.createElement(V,null),e.stargazers_count),r.a.createElement("td",null,r.a.createElement(T,null),e.forks))}))),n)}}]),t}(a.PureComponent);W.defaultProps={loadMore:function(){},children:null};var I=W;function $(){var e=Object(y.a)(["\n  width: 100%;\n\n  .input-field {\n    margin: auto;\n    width: 80%;\n    display: flex;\n    margin-top: 20px;\n  }\n"]);return $=function(){return e},e}var _=O.a.div($()),D=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={q:"",loading:!1,repos:[]},n.handleChange=function(e){var t=e.target.value;n.timer&&clearTimeout(n.timer),n.source&&n.source.cancel(),n.setState({q:t,loading:!1,repos:[],error:null,nextPage:null}),""!==t&&(n.setState({loading:!0}),n.timer=setTimeout(Object(v.a)(g.a.mark(function e(){var a,r,o,i;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.github.com/search/repositories?q=".concat(t),n.source=C.a.CancelToken.source(),e.prev=2,e.next=5,C.a.get(a,{cancelToken:n.source.token});case 5:r=e.sent,o=r.headers.link,i=L(o),n.setState({repos:r.data.items,loading:!1,nextPage:i.next}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),n.handleRequestError(e.t0);case 14:case"end":return e.stop()}},e,this,[[2,11]])})),500))},n.handleLoadMore=Object(v.a)(g.a.mark(function e(){var t,a,r,o,i,c,l;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.loading,r=t.nextPage,o=t.error,!a&&r&&!o){e.next=3;break}return e.abrupt("return");case 3:return n.setState({loading:!0}),e.prev=4,e.next=7,C.a.get(r);case 7:i=e.sent,c=i.headers.link,l=L(c),n.setState(function(e){return{loading:!1,repos:Object(p.a)(e.repos).concat(Object(p.a)(i.data.items)),nextPage:l.next}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),n.handleRequestError(e.t0);case 16:case"end":return e.stop()}},e,this,[[4,13]])})),n.handleRequestError=function(e){if(!C.a.isCancel(e)){var t=e.response;"0"===t.headers["x-ratelimit-remaining"]?n.setState({loading:!1,error:"no-ratelimit-remaining",nextPage:t.config.url}):n.setState({loading:!1,error:"others"})}},n.handleRetry=function(){n.setState({error:null},n.handleLoadMore)},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.state,t=e.q,n=e.repos,a=e.loading,o=e.error;return r.a.createElement(_,null,r.a.createElement(k.a,{value:t,className:"input-field",onChange:this.handleChange,variant:"outlined",placeholder:"Repo search field"}),r.a.createElement(I,{data:n,loading:a,loadMore:this.handleLoadMore},"no-ratelimit-remaining"===o&&r.a.createElement("div",{style:{textAlign:"center",padding:20}},"\u5df2\u9054\u5230 api \u8acb\u6c42\u4e0a\u9650\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66 ",r.a.createElement(A.a,{variant:"outlined",onClick:this.handleRetry},"\u91cd\u8a66")),a&&r.a.createElement("div",{style:{textAlign:"center",padding:20}},r.a.createElement(P.a,null))))}}]),t}(a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=u()({typography:{useNextVariants:!0},palette:{primary:h.a}});i.a.render(r.a.createElement(l.a,{theme:F},r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[106,2,1]]]);
//# sourceMappingURL=main.d20074ab.chunk.js.map